<html xmlns:th="https://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Log in</title>
</head>
<body>




<div th:if="${user == null}">

<button onclick="playAsGuest()">Play as guest</button>
<button onclick="playAsUser()">Play as user</button>

</div>




<div th:if="${user != null}">

<button onclick="playAsGuest()">Play</button>
    <form th:action="@{/signOut}" method="post">
        <button type="submit">Sign Out</button>
    </form>
<button onclick="setMoviePreferences()">Set movie preferences</button>


<p>Welcome, <span th:text="${user?.username}"></span>!</p>

</div>

<script>
    function playAsGuest() {
        window.location.href = "joinOrCreateSession";
    }

    function playAsUser() {
        window.location.href = "login";
    }

    function signOut() {
        window.location.href = "login";
    }

    function setMoviePreferences() {
        window.location.href = "setMoviePreferences";
    }
</script>

</body>
</html>